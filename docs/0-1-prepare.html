<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#FDB71B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-03-24T04:41:44.903544057"><title>准备工作 | MineGraph Docs</title><script type="application/json" id="virtual-toc-data">[{"id":"z9h3cnh_5","level":0,"title":"安装编辑器和插件","anchor":"#z9h3cnh_5"},{"id":"vs-code","level":1,"title":"VS Code","anchor":"#vs-code"},{"id":"z9h3cnh_14","level":1,"title":"代码高亮","anchor":"#z9h3cnh_14"},{"id":"z9h3cnh_15","level":1,"title":"代码补全和调试","anchor":"#z9h3cnh_15"},{"id":"z9h3cnh_6","level":0,"title":"配置游戏环境","anchor":"#z9h3cnh_6"},{"id":"z9h3cnh_7","level":0,"title":"了解你的编辑器","anchor":"#z9h3cnh_7"},{"id":"z9h3cnh_8","level":0,"title":"查看日志","anchor":"#z9h3cnh_8"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="MGC_Docs/page_logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="准备工作 | MineGraph Docs"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="MineGraph Docs Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://docs.minegraph.cn/md/0-1-prepare.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="准备工作 | MineGraph Docs"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://docs.minegraph.cn/md/0-1-prepare.html#webpage",
    "url": "https://docs.minegraph.cn/md/0-1-prepare.html",
    "name": "准备工作 | MineGraph Docs",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://docs.minegraph.cn/md/#website",
    "url": "https://docs.minegraph.cn/md/",
    "name": "MineGraph Docs Help"
}</script><!-- End Schema.org --></head><body data-id="0-1-prepare" data-main-title="准备工作" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Developer.md|创作者文档///shaderTutorial.md|光影开发教程///创作之前"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MineGraph Docs  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="0-1-prepare" id="0-1-prepare.md">准备工作</h1><div class="micro-format" data-content="{&quot;microFormat&quot;:[&quot;\u003cp id\u003d\&quot;z9h3cnh_9\&quot;\u003e在进入正式的编程和学习之前，我们将用三节的时间了解我们会用到的编辑器，OptiFine 的管线，以及 GLSL 的基础。\u003c/p\u003e&quot;,&quot;\u003cp id\u003d\&quot;z9h3cnh_10\&quot;\u003e本节将介绍我们编写光影会使用的编辑器和游戏环境。\u003c/p\u003e&quot;]}"></div><section class="chapter"><h2 id="z9h3cnh_5" data-toc="z9h3cnh_5">安装编辑器和插件</h2><p id="z9h3cnh_11">要想进行光影编程，一个好的代码编辑器必不可少。虽然你也可以当记事本战神，但是需要记住：战神一时爽，调试火葬场。</p><p id="z9h3cnh_12">在本教程中，我们使用 VS Code（Virtual Studio Code）进行编程，它是由微软出品的轻量化代码编辑器，在所有桌面平台上均有发行，有许多便利插件，我们编写光影所需要的也包含其中。</p><section class="chapter"><h3 id="vs-code" data-toc="vs-code">VS Code</h3><p id="z9h3cnh_16">前往 <a href="https://code.visualstudio.com/" id="z9h3cnh_20" data-external="true" rel="noopener noreferrer">VS Code 官网</a> ，点击 <code class="code" id="z9h3cnh_21">Download for Windows</code> ，等待安装包下载完毕运行即可。</p><p id="z9h3cnh_17">在选择附加任务时，最好全选（默认） <code class="code" id="z9h3cnh_22">其他</code> 类别中的选项以便于以后编辑文件和文件夹。</p><p id="z9h3cnh_18">运行 VS Code，如果你需要中文界面，请安装简体中文扩展：</p><ol class="list _decimal" id="z9h3cnh_19" type="1"><li class="list__item" id="z9h3cnh_23"><p id="z9h3cnh_27">在软件内按下 <kbd class="keystroke" id="z9h3cnh_28" data-bypass="true"><span class="keystroke__value">Ctrl</span></kbd><kbd class="keystroke" id="z9h3cnh_29" data-bypass="true"><span class="keystroke__value">Shift</span></kbd><kbd class="keystroke" id="z9h3cnh_30" data-bypass="true"><span class="keystroke__value">X</span></kbd> 打开插件商店</p></li><li class="list__item" id="z9h3cnh_24"><p id="z9h3cnh_31">在搜索栏搜索</p><div class="code-block" data-lang="none">
Chinese (Simplified) (简体中文) Language Pack for Visual Studio Code
</div></li><li class="list__item" id="z9h3cnh_25"><p id="z9h3cnh_33">找到正确的语言，点击 <code class="code" id="z9h3cnh_34">Install</code></p></li><li class="list__item" id="z9h3cnh_26"><p id="z9h3cnh_35">根据插件介绍页面操作即可</p></li></ol></section><section class="chapter"><h3 id="z9h3cnh_14" data-toc="z9h3cnh_14">代码高亮</h3><p id="z9h3cnh_36">代码高亮会将代码字体进行染色和更改格式，用于提高代码可读性。</p><p id="z9h3cnh_37">VS Code 默认不支持 GLSL 代码高亮，需要使用第三方插件，你可以在插件商店中搜索</p><div class="code-block" data-lang="none">
GLSL Syntax for VS Code
</div><p id="z9h3cnh_39">插件并安装来获取 GLSL 代码高亮功能。</p><p id="z9h3cnh_40">或者访问该插件的 <a href="https://marketplace.visualstudio.com/items?itemName=GeForceLegend.vscode-glsl" id="z9h3cnh_42" data-external="true" rel="noopener noreferrer">插件商店页面</a> 并单击 <code class="code" id="z9h3cnh_43">Install</code> 来呼出 VSCode 以安装。</p><p id="z9h3cnh_41">该插件会自动关联 <code class="code" id="z9h3cnh_44">.vsh</code>、 <code class="code" id="z9h3cnh_45">.glsl</code>、 <code class="code" id="z9h3cnh_46">.geom</code>、 <code class="code" id="z9h3cnh_47">.frag</code> 等着色器文件常用后缀。</p></section><section class="chapter"><h3 id="z9h3cnh_15" data-toc="z9h3cnh_15">代码补全和调试</h3><p id="z9h3cnh_48">GLSL Syntax for VS Code 仅支持 GLSL 语法高亮，要想在工作区应用针对 OptiFine 光影的代码补全和查错等高级语法功能，我们还需要另一个 <span class="tooltip" id="z9h3cnh_54" title="Language Server Protocol">LSP</span> 插件。</p><p id="z9h3cnh_49">在插件商店中搜索</p><div class="code-block" data-lang="none">
Language Server for Minecraft Shaderpacks
</div><p id="z9h3cnh_51">插件并安装即可。</p><p id="z9h3cnh_52">或者访问该插件的 <a href="https://marketplace.visualstudio.com/items?itemName=GeForceLegend.vscode-mcshader" id="z9h3cnh_55" data-external="true" rel="noopener noreferrer">插件商店页面</a> 并单击 <code class="code" id="z9h3cnh_56">Install</code> 来呼出 VSCode 以安装。</p><p id="z9h3cnh_53">只要工作区正确，该插件就会实时编译光影并提供驱动级查错。</p></section></section><section class="chapter"><h2 id="z9h3cnh_6" data-toc="z9h3cnh_6">配置游戏环境</h2><p id="z9h3cnh_57">我们将使用截止教程编写时的最新正式版本（<span class="control" id="z9h3cnh_62">JE 1.21.4</span>, OptiFine J3）作为测试环境。</p><p id="z9h3cnh_58">如果你还不会安装游戏，参阅 <a href="jeinstallgame.html" id="z9h3cnh_63" data-tooltip="这篇文档提供了从头开始安装游戏和加载器的详细教程。">安装游戏、加载器和模组</a>。</p><p id="z9h3cnh_59">安装完成后，你需要在 <code class="code" id="z9h3cnh_64">shaderpacks</code> 文件夹下新建一个文件夹，然后在该文件夹内再新建一个 <code class="code" id="z9h3cnh_65">shaders</code> 文件夹，这就是一个光影包。你也可以建立多个光影包来分别测试不同内容。</p><p id="z9h3cnh_60">右键 <code class="code" id="z9h3cnh_66">shaders</code> ，然后点击 <code class="code" id="z9h3cnh_67">通过 Code 打开</code> （在 Windows 11 中你需要点击 <code class="code" id="z9h3cnh_68">显示更多选项</code> 才能找到），这就是我们的工作区了，你可以在左侧栏的 <code class="code" id="z9h3cnh_69">资源管理器</code> 页查看工作区内的文件和文件夹，如果你找不到这个选项卡，可以按 <kbd class="keystroke" id="z9h3cnh_70" data-bypass="true"><span class="keystroke__value">Ctrl</span></kbd><kbd class="keystroke" id="z9h3cnh_71" data-bypass="true"><span class="keystroke__value">Shift</span></kbd><kbd class="keystroke" id="z9h3cnh_72" data-bypass="true"><span class="keystroke__value">E</span></kbd> 呼出。</p><p id="z9h3cnh_61">在游戏中，为了防止原版的干扰，你可以把 <code class="code" id="z9h3cnh_73">视频设置</code> &gt; <code class="code" id="z9h3cnh_74">细节</code> &gt; <code class="code" id="z9h3cnh_75">晕影</code> 设置为 <code class="code" id="z9h3cnh_76">流畅</code>。</p></section><section class="chapter"><h2 id="z9h3cnh_7" data-toc="z9h3cnh_7">了解你的编辑器</h2><p id="z9h3cnh_77">在侧栏文件夹内空白区域双击可以新建文件，在主窗口空白区域双击可以新建未命名临时文件。</p><p id="z9h3cnh_78">除了关联后缀外，文件的高亮状态默认是 <code class="code" id="z9h3cnh_84">纯文本</code> 模式，你可以点击右下角的 <code class="code" id="z9h3cnh_85">纯文本</code> 来切换语言模式。</p><p id="z9h3cnh_79">你可以在编辑过程中随时按下 <kbd class="keystroke" id="z9h3cnh_86" data-bypass="true"><span class="keystroke__value">Ctrl</span></kbd><kbd class="keystroke" id="z9h3cnh_87" data-bypass="true"><span class="keystroke__value">Space</span></kbd> 呼出代码补全功能。</p><p id="z9h3cnh_80">你可以按下 <kbd class="keystroke" id="z9h3cnh_88" data-bypass="true"><span class="keystroke__value">Ctrl</span></kbd><kbd class="keystroke" id="z9h3cnh_89" data-bypass="true"><span class="keystroke__value">K</span></kbd>, <kbd class="keystroke" id="z9h3cnh_90" data-bypass="true"><span class="keystroke__value">S</span></kbd> 来保存所有文件。</p><p id="z9h3cnh_81">当你保持工作区打开并关闭 VS Code 窗口时，它会缓存工作区布局和未保存的文件，当你下次运行 VS Code 时会默认继承进度。</p><p id="z9h3cnh_82">如果你安装了前文的 LSP 插件，当你修改文件名称时，所有的包含宏都会自动修改。</p><p id="z9h3cnh_83">将窗口标签或文件拽入已经打开的其他文件编辑界面的某一侧，可以拆分工作区。</p></section><section class="chapter"><h2 id="z9h3cnh_8" data-toc="z9h3cnh_8">查看日志</h2><p id="z9h3cnh_91">OptiFine 会将光影报错内容输出到游戏的日志中，你可以在 <code class="code" id="z9h3cnh_95">\logs\latest.log</code> 查看，在启动器中勾选 <code class="code" id="z9h3cnh_96">查看日志</code> 或者将这个文件拖入 VS Code，它默认关联了 <code class="code" id="z9h3cnh_97">.log</code> 格式。</p><p id="z9h3cnh_92">此外，你还应该在右下角选择 <code class="code" id="z9h3cnh_98">GB 2313</code> 编码，这样才能正确显示日志中的中文。</p><p id="z9h3cnh_94">这样我们的工作环境就配置完毕了。在下一节中，我们将了解 OptiFine 的光影加载逻辑和着色器的运行管线。</p></section><div class="last-modified">Last modified: 24 March 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="shadertutorial.html" class="navigation-links__prev">光影开发教程</a><a href="0-2-filepipeline.html" class="navigation-links__next">结构和管线</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>