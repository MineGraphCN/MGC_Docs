<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#FDB71B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-07-09T06:00:20.623097555"><title>光影配置文件 | MineGraph Docs</title><script type="application/json" id="virtual-toc-data">[{"id":"c0broo_9","level":0,"title":"环境设置","anchor":"#c0broo_9"},{"id":"customTex","level":0,"title":"自定义纹理","anchor":"#customTex"},{"id":"texSource","level":1,"title":"纹理来源","anchor":"#texSource"},{"id":"c0broo_87","level":1,"title":"特殊后缀","anchor":"#c0broo_87"},{"id":"c0broo_88","level":1,"title":"原始纹理（二进制数据转储）","anchor":"#c0broo_88"},{"id":"c0broo_89","level":1,"title":"噪声纹理","anchor":"#c0broo_89"},{"id":"c0broo_11","level":0,"title":"光影设置","anchor":"#c0broo_11"},{"id":"c0broo_12","level":0,"title":"自定义统一变量","anchor":"#c0broo_12"},{"id":"c0broo_183","level":1,"title":"参数","anchor":"#c0broo_183"},{"id":"c0broo_190","level":2,"title":"常量","anchor":"#c0broo_190"},{"id":"c0broo_191","level":2,"title":"浮点变量","anchor":"#c0broo_191"},{"id":"cam_bool","level":2,"title":"布尔变量","anchor":"#cam_bool"},{"id":"c0broo_184","level":1,"title":"运算符","anchor":"#c0broo_184"},{"id":"c0broo_185","level":1,"title":"函数","anchor":"#c0broo_185"},{"id":"c0broo_401","level":2,"title":"布尔函数","anchor":"#c0broo_401"},{"id":"c0broo_402","level":2,"title":"组合向量函数","anchor":"#c0broo_402"},{"id":"c0broo_186","level":1,"title":"示例","anchor":"#c0broo_186"},{"id":"alpha","level":0,"title":"Alpha 测试","anchor":"#alpha"},{"id":"blend","level":0,"title":"混合","anchor":"#blend"},{"id":"c0broo_15","level":0,"title":"延迟处理渲染缩放","anchor":"#c0broo_15"},{"id":"c0broo_16","level":0,"title":"翻转缓冲区","anchor":"#c0broo_16"},{"id":"c0broo_17","level":0,"title":"缓冲区尺寸","anchor":"#c0broo_17"},{"id":"c0broo_18","level":0,"title":"开关特定的程序","anchor":"#c0broo_18"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="MGC_Docs/page_logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="光影配置文件 | MineGraph Docs"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="MineGraph Docs Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://docs.minegraph.cn/md/a03-shaderprop.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="光影配置文件 | MineGraph Docs"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://docs.minegraph.cn/md/a03-shaderprop.html#webpage",
    "url": "https://docs.minegraph.cn/md/a03-shaderprop.html",
    "name": "光影配置文件 | MineGraph Docs",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://docs.minegraph.cn/md/#website",
    "url": "https://docs.minegraph.cn/md/",
    "name": "MineGraph Docs Help"
}</script><!-- End Schema.org --></head><body data-id="a03-shaderProp" data-main-title="光影配置文件" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="创作者文档///shaderTutorial.md|光影开发教程///附录"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MineGraph Docs  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="a03-shaderProp" data-annotation-ids="wip" id="a03-shaderProp.md">光影配置文件</h1><div class="micro-format" data-content="{&quot;microFormat&quot;:[&quot;\u003cp id\u003d\&quot;c0broo_21\&quot;\u003e本文列举了 \u003ccode class\u003d\&quot;code\&quot; id\u003d\&quot;c0broo_23\&quot;\u003eshaders.properties\u003c/code\u003e 中的所有可配置内容。\u003c/p\u003e&quot;,&quot;\u003cp id\u003d\&quot;c0broo_22\&quot;\u003e对应的视频设置选项具有更高优先级，除非是 \u003ccode class\u003d\&quot;code\&quot; id\u003d\&quot;c0broo_24\&quot;\u003e默认\u003c/code\u003e。\u003c/p\u003e&quot;]}"></div><aside class="prompt" data-type="note" data-title="" id="c0broo_20"><p id="c0broo_25">这篇文档翻译自 <a href="https://github.com/sp614x/optifine/blob/master/OptiFineDoc/doc/shaders.properties" id="c0broo_26" data-external="true" rel="noopener noreferrer" target="_blank">GitHub OptiFineDoc/shaders.properties</a> ，请以原文为准！</p></aside><section class="chapter"><h2 id="c0broo_9" data-toc="c0broo_9">环境设置</h2><div class="code-block" data-lang="properties">
clouds=fast|fancy|off
</div><p id="c0broo_28">流畅、高品质或禁用原版云。 <code class="code" id="c0broo_60">细节</code> &gt; <code class="code" id="c0broo_61">云</code> 具有更高的优先级。</p><div class="code-block" data-lang="properties">
oldHandLight=true|false
</div><p id="c0broo_30">启用或禁用经典手持光源，可以让只辨别主手光源的光影在副手持光源时也能正常工作。默认为 <code class="code" id="c0broo_62">true</code>， <code class="code" id="c0broo_63">光影</code> &gt; <code class="code" id="c0broo_64">经典手持光源</code> 具有更高的优先级。</p><div class="code-block" data-lang="properties">
dynamicHandLight=true|false
</div><p id="c0broo_32">启用或禁用动态光源。默认为 <code class="code" id="c0broo_65">true</code>， <code class="code" id="c0broo_66">动态光源</code> 具有更高的优先级。</p><div class="code-block" data-lang="properties">
oldLighting=true|false
</div><p id="c0broo_34">启用或禁用经典光效。默认为 <code class="code" id="c0broo_67">true</code>， <code class="code" id="c0broo_68">光影</code> &gt; <code class="code" id="c0broo_69">经典光效</code> 具有更高的优先级。变更该设置会导致资源包重载。</p><div class="code-block" data-lang="properties">
shadowTerrain=true|false
shadowTranslucent=true|false
shadowEntities=true|false
shadowBlockEntities=true|false
</div><p id="c0broo_36">启用或禁用阴影几何缓冲中的地形、半透明、实体、方块实体渲染。默认为 <code class="code" id="c0broo_70">true</code>。</p><div class="code-block" data-lang="properties">
underwaterOverlay=true|false
</div><p id="c0broo_38">启用或禁用处于水下时屏幕上的水纹理覆层。默认为 <code class="code" id="c0broo_71">true</code>。</p><div class="code-block" data-lang="properties">
sun=true|false
moon=true|false
</div><p id="c0broo_40">启用或禁用太阳、月亮。 <code class="code" id="c0broo_72">细节</code> &gt; <code class="code" id="c0broo_73">日月</code> 具有更高的优先级。</p><div class="code-block" data-lang="properties">
vignette=true|false
</div><p id="c0broo_42">启用或禁用屏幕边缘暗角。 <code class="code" id="c0broo_74">细节</code> &gt; <code class="code" id="c0broo_75">晕影</code> 具有更高的优先级。</p><div class="code-block" data-lang="properties">
backFace.solid=true|false
backFace.cutout=true|false
backFace.cutoutMipped=true|false
backFace.translucent=true|false
</div><p id="c0broo_44">启用或禁用固体、裁切、带 MipMap 的裁切、半透明几何的背面渲染，启用后朝向背离屏幕的表面也会被渲染。默认为 <code class="code" id="c0broo_76">false</code>。</p><div class="code-block" data-lang="properties">
rain.depth=true|false
</div><p id="c0broo_46">启用或禁用雨雪粒子写入深度。默认为 <code class="code" id="c0broo_77">true</code>。</p><div class="code-block" data-lang="properties">
beacon.beam.depth=true|false
</div><p id="c0broo_48">启用或禁用信标光柱写入深度。默认为 <code class="code" id="c0broo_78">true</code>。</p><div class="code-block" data-lang="properties">
separateAo=true|false
</div><p id="c0broo_50">启用或禁用分离原版环境光遮蔽，启用后将顶点环境光遮蔽写入顶点颜色的 Alpha 通道，只对固体地形生效。默认为 <code class="code" id="c0broo_79">false</code>。</p><div class="code-block" data-lang="properties">
frustum.culling=true|false
</div><p id="c0broo_52">启用或禁用视锥裁切，启用后不可见的几何体将被丢弃，用以提高性能。默认为 <code class="code" id="c0broo_80">true</code>。</p><div class="code-block" data-lang="properties">
shadow.culling=true|false
</div><p id="c0broo_54">启用或禁用阴影视锥裁切，启用后部分 OptiFine 版本裁切由玩家视锥体控制，会导致问题。默认为 <code class="code" id="c0broo_81">true</code>。</p><div class="code-block" data-lang="properties">
particles.before.deferred=true|false
</div><p id="c0broo_56">启用或禁用粒子提前渲染，启用后粒子将会在 deferred 程序之前（第一轮几何缓冲）处理。默认为 <code class="code" id="c0broo_82">false</code>。</p><div class="code-block" data-lang="properties">
version.&lt;mc_ver&gt;=&lt;of_edition&gt;
</div><p id="c0broo_58">光影最低要求的 OptiFine 版本。例如：</p><div class="code-block" data-lang="properties">
version.1.12.2=D1
version.1.10.2=F1
version.1.8=J1
</div></section><section class="chapter"><h2 id="customTex" data-toc="customTex">自定义纹理</h2><div class="code-block" data-lang="properties">
texture.&lt;stage&gt;.&lt;name&gt;=&lt;path&gt;
</div><p id="c0broo_84">将自定义纹理绑定到对应着色器可用的纹理单元。</p><ul class="list _bullet" id="c0broo_85"><li class="list__item" id="c0broo_90"><p id="c0broo_92"><code class="code" id="c0broo_94">stage</code>：</p><ul class="list _bullet" id="c0broo_93"><li class="list__item" id="c0broo_95"><p id="c0broo_98"><code class="code" id="c0broo_99">gbuffers</code> ：几何缓冲和阴影几何缓冲程序</p></li><li class="list__item" id="c0broo_96"><p id="c0broo_100"><code class="code" id="c0broo_101">deferred</code> ：第一轮几何缓冲后的延迟处理（Deferred）</p></li><li class="list__item" id="c0broo_97"><p id="c0broo_102"><code class="code" id="c0broo_103">composite</code> ：第二轮几何缓冲后的延迟处理程序（Composite 和 Final）</p></li></ul></li><li class="list__item" id="c0broo_91"><p id="c0broo_104"><code class="code" id="c0broo_105">Name</code> ：纹理单元名称，可用名称请参考 <a href="a04-textureandpx.html#texID" id="c0broo_106" data-tooltip="">纹理单元 ID</a>。</p></li></ul><section class="chapter"><h3 id="texSource" data-toc="texSource">纹理来源</h3><dl id="c0broo_107" data-style="title-top"><dt id="c0broo_108" data-expandable="false">光影</dt><dd><p id="c0broo_112">相对 <code class="code" id="c0broo_114">shaders</code> 内的路径，例如：</p><div class="code-block" data-lang="properties">
texture.composite.colortex1=textures/noise.png
</div></dd><dt id="c0broo_109" data-expandable="false">资源包</dt><dd><p id="c0broo_116">以 <code class="code" id="c0broo_118">minecraft:</code> 开头的路径，例如：</p><div class="code-block" data-lang="properties">
texture.composite.colortex2=minecraft:textures/font/ascii.png
</div></dd><dt id="c0broo_110" data-expandable="false">动态生成纹理（光照贴图和纹理集）</dt><dd><div class="code-block" data-lang="properties">
texture.composite.colortex3=minecraft:dynamic/lightmap_1
texture.composite.colortex4=minecraft:textures/atlas/blocks.png
</div></dd></dl></section><section class="chapter"><h3 id="c0broo_87" data-toc="c0broo_87">特殊后缀</h3><p id="c0broo_121">使用 <code class="code" id="c0broo_122">_n</code> 和 <code class="code" id="c0broo_123">_s</code> 后缀可以加载法线/高光纹理： <code class="code" id="c0broo_124">minecraft:textures/atlas/blocks_n.png</code></p></section><section class="chapter"><h3 id="c0broo_88" data-toc="c0broo_88">原始纹理（二进制数据转储）</h3><div class="code-block" data-lang="properties">
texture.&lt;stage&gt;.&lt;name&gt;=&lt;path&gt; &lt;type&gt; &lt;internalFormat&gt; &lt;dimensions&gt; &lt;pixelFormat&gt; &lt;pixelType&gt;
</div><ul class="list _bullet" id="c0broo_126"><li class="list__item" id="c0broo_129"><p id="c0broo_134"><code class="code" id="c0broo_137">&lt;type&gt;</code> ：纹理类型，下列之一：</p><ul class="list _horizontal" id="c0broo_135" data-columns="3"><li class="list__item" id="c0broo_138"><p id="c0broo_144"><code class="code" id="c0broo_145">TEXTURE_1D</code></p></li><li class="list__item" id="c0broo_139"><p id="c0broo_146"><code class="code" id="c0broo_147">TEXTURE_3D</code></p></li><li class="list__item" id="c0broo_140"></li><li class="list__item" id="c0broo_141"><p id="c0broo_148"><code class="code" id="c0broo_149">TEXTURE_2D</code></p></li><li class="list__item" id="c0broo_142"><p id="c0broo_150"><code class="code" id="c0broo_151">TEXTURE_RECTANGLE</code></p></li><li class="list__item" id="c0broo_143"></li></ul><p id="c0broo_136"></p></li><li class="list__item" id="c0broo_130"><p id="c0broo_152"><code class="code" id="c0broo_153">&lt;internalFormat&gt;</code>： <a href="a04-textureandpx.html#texFormat" id="c0broo_154" data-tooltip="">纹理格式</a></p></li><li class="list__item" id="c0broo_131"><p id="c0broo_155"><code class="code" id="c0broo_156">&lt;dimensions&gt;</code> ：纹理在每个方向上的尺寸，设置数量取决于纹理类型</p></li><li class="list__item" id="c0broo_132"><p id="c0broo_157"><code class="code" id="c0broo_158">&lt;pixelFormat&gt;</code>： <a href="a04-textureandpx.html#pxFormat" id="c0broo_159" data-tooltip="">像素格式</a></p></li><li class="list__item" id="c0broo_133"><p id="c0broo_160"><code class="code" id="c0broo_161">&lt;pixelType&gt;</code>： <a href="a04-textureandpx.html#pxType" id="c0broo_162" data-tooltip="">像素类型</a></p></li></ul><div class="code-block" data-lang="properties">
texture.composite.gaux1=textures/lut_1d.dat TEXTURE_1D RGBA32F 256 RGBA FLOAT
texture.composite.gaux1.2=textures/lut_3d.dat TEXTURE_3D RGBA32F 64 64 64 RGBA FLOAT
</div><ul class="list _bullet" id="c0broo_128"><li class="list__item" id="c0broo_163"><p id="c0broo_166">可以将多个纹理绑定到同一个纹理单元，然后在着色器中使用 <code class="code" id="c0broo_167">sampler1d</code>、 <code class="code" id="c0broo_168">sampler2d</code>、 <code class="code" id="c0broo_169">sampler3d</code> 等不同的采样器格式进行区分。每个程序只能使用每个纹理单元的其中一种采样器类型。</p></li><li class="list__item" id="c0broo_164"><p id="c0broo_170">可以在 <code class="code" id="c0broo_171">&lt;name&gt;</code> 后添加后缀 <code class="code" id="c0broo_172">.0</code>~<code class="code" id="c0broo_173">.9</code> 来避免重复定义的属性键。</p></li><li class="list__item" id="c0broo_165"><p id="c0broo_174">可以通过同名的 <code class="code" id="c0broo_175">.mcmeta</code> 文件设置边缘环绕行为和过滤方式。</p></li></ul></section><section class="chapter"><h3 id="c0broo_89" data-toc="c0broo_89">噪声纹理</h3><div class="code-block" data-lang="properties">
texture.noise=&lt;path&gt;
</div><p id="c0broo_177">专用于保存噪声的纹理单元（当然你硬要写入其他的纹理也没法拦着你）。</p></section></section><section class="chapter"><h2 id="c0broo_11" data-toc="c0broo_11">光影设置</h2><p id="c0broo_178">见 <a href="https://optifine.readthedocs.io/shaders_dev/options.html" id="c0broo_180" data-external="true" rel="noopener noreferrer" target="_blank">Options screen - OptiDocs</a> ，不久之后我们会编写相关内容。</p><div class="code-block" data-lang="properties">
sliders=&lt;设置列表&gt;
profile.NAME=&lt;设置列表&gt;
screen=&lt;设置列表&gt;
screen.Name=&lt;设置列表&gt;
screen.columns=2
screen.NAME.columns=2
</div></section><section class="chapter"><h2 id="c0broo_12" data-toc="c0broo_12">自定义统一变量</h2><div class="code-block" data-lang="properties">
uniform.&lt;float|int|bool|vec2|vec3|vec4&gt;.&lt;name&gt;=&lt;表达式&gt;
variable.&lt;float|int|bool|vec2|vec3|vec4&gt;.&lt;name&gt;=&lt;表达式&gt;
</div><p id="c0broo_182">利用常量、变量、运算符和函数来自定义传入着色器的变量和用于配置文件中计算的变量，自定义统一变量会随着程序变化而更新。</p><section class="chapter"><h3 id="c0broo_183" data-toc="c0broo_183">参数</h3><p id="c0broo_187">一些固定标量的统一变量（即不会随着程序变更而变更的标量）也可用于参数，例如 <code class="code" id="c0broo_193">heldItemId</code>、 <code class="code" id="c0broo_194">worldTime</code>、 <code class="code" id="c0broo_195">moonPhase</code> 等。</p><ul class="list _bullet" id="c0broo_188"><li class="list__item" id="c0broo_196"><p id="c0broo_199">向量对象可以使用 <code class="code" id="c0broo_200">.x</code> <code class="code" id="c0broo_201">.y</code> <code class="code" id="c0broo_202">.z</code> 和 <code class="code" id="c0broo_203">.w</code> 来提取分量，例如 <code class="code" id="c0broo_204">sunPosition.y</code>；</p></li><li class="list__item" id="c0broo_197"><p id="c0broo_205">颜色对象可以使用 <code class="code" id="c0broo_207">.r</code> <code class="code" id="c0broo_208">.g</code> <code class="code" id="c0broo_209">.b</code> 和 <code class="code" id="c0broo_210">.a</code> 来提取分量，例如 <code class="code" id="c0broo_211">skyColor.r</code>；</p><ul class="list _bullet" id="c0broo_206"><li class="list__item" id="c0broo_212"><p id="c0broo_213">这两种分量提取操作和 GLSL 一样不做强制要求。</p></li></ul></li><li class="list__item" id="c0broo_198"><p id="c0broo_214">矩阵可以使用两个连续的行列索引来提取参数，例如 <code class="code" id="c0broo_215">gbufferModelView.0.1</code>。</p></li></ul><aside class="prompt" data-type="note" data-title="" id="c0broo_189"><p id="c0broo_216">自定义统一变量在组合向量时要求使用严格的标量，例如：</p><div class="code-block" data-lang="properties">
uniform.vec2.pixelSize = vec2(1.0 / viewWidth, 1.0 / viewHeight)
</div><p id="c0broo_218">不可以使用标量和向量组合运算或使用向量和向量组合运算。</p></aside><section class="chapter"><h4 id="c0broo_190" data-toc="c0broo_190">常量</h4><ul class="list _horizontal" id="c0broo_219" data-columns="4"><li class="list__item" id="c0broo_220"><p id="c0broo_223"><code class="code" id="c0broo_224">pi</code> = 3.1415926</p></li><li class="list__item" id="c0broo_221"><p id="c0broo_225"><code class="code" id="c0broo_226">true</code></p></li><li class="list__item" id="c0broo_222"><p id="c0broo_227"><code class="code" id="c0broo_228">false</code></p></li></ul></section><section class="chapter"><h4 id="c0broo_191" data-toc="c0broo_191">浮点变量</h4><ul class="list _bullet" id="c0broo_229"><li class="list__item" id="c0broo_231"><p id="c0broo_236"><code class="code" id="c0broo_237">biome</code> - 生物群系 ID</p></li><li class="list__item" id="c0broo_232"><p id="c0broo_238"><code class="code" id="c0broo_241">biome_category</code> - 群系类型，0 ~ 16（从左至右，从上至下）</p><ul class="list _horizontal" id="c0broo_239" data-columns="3"><li class="list__item" id="c0broo_242"><p id="c0broo_259"><code class="code" id="c0broo_260">CAT_NONE</code></p></li><li class="list__item" id="c0broo_243"><p id="c0broo_261"><code class="code" id="c0broo_262">CAT_TAIGA</code></p></li><li class="list__item" id="c0broo_244"><p id="c0broo_263"><code class="code" id="c0broo_264">CAT_EXTREME_HILLS</code></p></li><li class="list__item" id="c0broo_245"><p id="c0broo_265"><code class="code" id="c0broo_266">CAT_JUNGLE</code></p></li><li class="list__item" id="c0broo_246"><p id="c0broo_267"><code class="code" id="c0broo_268">CAT_MESA</code></p></li><li class="list__item" id="c0broo_247"><p id="c0broo_269"><code class="code" id="c0broo_270">CAT_PLAINS</code></p></li><li class="list__item" id="c0broo_248"><p id="c0broo_271"><code class="code" id="c0broo_272">CAT_SAVANNA</code></p></li><li class="list__item" id="c0broo_249"><p id="c0broo_273"><code class="code" id="c0broo_274">CAT_ICY</code></p></li><li class="list__item" id="c0broo_250"><p id="c0broo_275"><code class="code" id="c0broo_276">CAT_THE_END</code></p></li><li class="list__item" id="c0broo_251"><p id="c0broo_277"><code class="code" id="c0broo_278">CAT_BEACH</code></p></li><li class="list__item" id="c0broo_252"><p id="c0broo_279"><code class="code" id="c0broo_280">CAT_FOREST</code></p></li><li class="list__item" id="c0broo_253"><p id="c0broo_281"><code class="code" id="c0broo_282">CAT_OCEAN</code></p></li><li class="list__item" id="c0broo_254"><p id="c0broo_283"><code class="code" id="c0broo_284">CAT_DESERT</code></p></li><li class="list__item" id="c0broo_255"><p id="c0broo_285"><code class="code" id="c0broo_286">CAT_RIVER</code></p></li><li class="list__item" id="c0broo_256"><p id="c0broo_287"><code class="code" id="c0broo_288">CAT_SWAMP</code></p></li><li class="list__item" id="c0broo_257"><p id="c0broo_289"><code class="code" id="c0broo_290">CAT_MUSHROOM</code></p></li><li class="list__item" id="c0broo_258"><p id="c0broo_291"><code class="code" id="c0broo_292">CAT_NETHER</code></p></li></ul><p id="c0broo_240"></p></li><li class="list__item" id="c0broo_233"><p id="c0broo_293"><code class="code" id="c0broo_296">biome_precipitation</code> - 降水类型，0 ~ 2（从左至右）</p><ul class="list _horizontal" id="c0broo_294" data-columns="3"><li class="list__item" id="c0broo_297"><p id="c0broo_300"><code class="code" id="c0broo_301">PPT_NONE</code></p></li><li class="list__item" id="c0broo_298"><p id="c0broo_302"><code class="code" id="c0broo_303">PPT_RAIN</code></p></li><li class="list__item" id="c0broo_299"><p id="c0broo_304"><code class="code" id="c0broo_305">PPT_SNOW</code></p></li></ul><p id="c0broo_295"></p></li><li class="list__item" id="c0broo_234"><p id="c0broo_306"><code class="code" id="c0broo_307">temperature</code> - 温度，0.0 ~ 1.0</p></li><li class="list__item" id="c0broo_235"><p id="c0broo_308"><code class="code" id="c0broo_309">rainfall</code> - 湿度，0.0 ~ 1.0</p></li></ul><p id="c0broo_230">雨雪渲染判定依赖于 <code class="code" id="c0broo_310">biome_precipitation != PPT_NONE</code> ，如果 <code class="code" id="c0broo_311">temperature &gt;= 0.15</code> 则渲染雨，否则渲染雪。</p></section><section class="chapter"><h4 id="cam_bool" data-toc="cam_bool">布尔变量</h4><p id="c0broo_312">摄像机所在实体的状态，例如玩家本身或旁观模式附身的实体。</p><ul class="list _horizontal" id="c0broo_313" data-columns="3"><li class="list__item" id="c0broo_314"><p id="c0broo_328"><code class="code" id="c0broo_329">is_alive</code></p></li><li class="list__item" id="c0broo_315"><p id="c0broo_330"><code class="code" id="c0broo_331">is_burning</code></p></li><li class="list__item" id="c0broo_316"><p id="c0broo_332"><code class="code" id="c0broo_333">is_child</code></p></li><li class="list__item" id="c0broo_317"><p id="c0broo_334"><code class="code" id="c0broo_335">is_glowing</code></p></li><li class="list__item" id="c0broo_318"><p id="c0broo_336"><code class="code" id="c0broo_337">is_hurt</code></p></li><li class="list__item" id="c0broo_319"><p id="c0broo_338"><code class="code" id="c0broo_339">is_in_lava</code></p></li><li class="list__item" id="c0broo_320"><p id="c0broo_340"><code class="code" id="c0broo_341">is_in_water</code></p></li><li class="list__item" id="c0broo_321"><p id="c0broo_342"><code class="code" id="c0broo_343">is_invisible</code></p></li><li class="list__item" id="c0broo_322"><p id="c0broo_344"><code class="code" id="c0broo_345">is_on_ground</code></p></li><li class="list__item" id="c0broo_323"><p id="c0broo_346"><code class="code" id="c0broo_347">is_ridden</code></p></li><li class="list__item" id="c0broo_324"><p id="c0broo_348"><code class="code" id="c0broo_349">is_riding</code></p></li><li class="list__item" id="c0broo_325"><p id="c0broo_350"><code class="code" id="c0broo_351">is_sneaking</code></p></li><li class="list__item" id="c0broo_326"><p id="c0broo_352"><code class="code" id="c0broo_353">is_sprinting</code></p></li><li class="list__item" id="c0broo_327"><p id="c0broo_354"><code class="code" id="c0broo_355">is_wet</code></p></li></ul></section></section><section class="chapter"><h3 id="c0broo_184" data-toc="c0broo_184">运算符</h3><ul class="list _horizontal" id="c0broo_356" data-columns="5"><li class="list__item" id="c0broo_357"><p id="c0broo_371"><code class="code" id="c0broo_372">+</code></p></li><li class="list__item" id="c0broo_358"><p id="c0broo_373"><code class="code" id="c0broo_374">-</code></p></li><li class="list__item" id="c0broo_359"><p id="c0broo_375"><code class="code" id="c0broo_376">*</code></p></li><li class="list__item" id="c0broo_360"><p id="c0broo_377"><code class="code" id="c0broo_378">/</code></p></li><li class="list__item" id="c0broo_361"><p id="c0broo_379"><code class="code" id="c0broo_380">%</code></p></li><li class="list__item" id="c0broo_362"><p id="c0broo_381"><code class="code" id="c0broo_382">!</code></p></li><li class="list__item" id="c0broo_363"><p id="c0broo_383"><code class="code" id="c0broo_384">&amp;&amp;</code></p></li><li class="list__item" id="c0broo_364"><p id="c0broo_385"><code class="code" id="c0broo_386">||</code></p></li><li class="list__item" id="c0broo_365"><p id="c0broo_387"><code class="code" id="c0broo_388">&gt;</code></p></li><li class="list__item" id="c0broo_366"><p id="c0broo_389"><code class="code" id="c0broo_390">&gt;=</code></p></li><li class="list__item" id="c0broo_367"><p id="c0broo_391"><code class="code" id="c0broo_392">&lt;</code></p></li><li class="list__item" id="c0broo_368"><p id="c0broo_393"><code class="code" id="c0broo_394">&lt;=</code></p></li><li class="list__item" id="c0broo_369"><p id="c0broo_395"><code class="code" id="c0broo_396">==</code></p></li><li class="list__item" id="c0broo_370"><p id="c0broo_397"><code class="code" id="c0broo_398">!=</code></p></li></ul></section><section class="chapter"><h3 id="c0broo_185" data-toc="c0broo_185">函数</h3><ul class="list _horizontal" id="c0broo_399" data-columns="3"><li class="list__item" id="c0broo_403"><p id="c0broo_426"><code class="code" id="c0broo_427">sin(x)</code></p></li><li class="list__item" id="c0broo_404"><p id="c0broo_428"><code class="code" id="c0broo_429">cos(x)</code></p></li><li class="list__item" id="c0broo_405"><p id="c0broo_430"><code class="code" id="c0broo_431">asin(x)</code></p></li><li class="list__item" id="c0broo_406"><p id="c0broo_432"><code class="code" id="c0broo_433">acos(x)</code></p></li><li class="list__item" id="c0broo_407"><p id="c0broo_434"><code class="code" id="c0broo_435">tan(x)</code></p></li><li class="list__item" id="c0broo_408"><p id="c0broo_436"><code class="code" id="c0broo_437">atan(x)</code></p></li><li class="list__item" id="c0broo_409"><p id="c0broo_438"><code class="code" id="c0broo_439">atan2(y, x)</code></p></li><li class="list__item" id="c0broo_410"><p id="c0broo_440"><code class="code" id="c0broo_441">torad(deg)</code></p></li><li class="list__item" id="c0broo_411"><p id="c0broo_442"><code class="code" id="c0broo_443">todeg(rad)</code></p></li><li class="list__item" id="c0broo_412"><p id="c0broo_444"><code class="code" id="c0broo_445">min(x, y ,...)</code></p></li><li class="list__item" id="c0broo_413"><p id="c0broo_446"><code class="code" id="c0broo_447">max(x, y, ...)</code></p></li><li class="list__item" id="c0broo_414"><p id="c0broo_448"><code class="code" id="c0broo_449">abs(x)</code></p></li><li class="list__item" id="c0broo_415"><p id="c0broo_450"><code class="code" id="c0broo_451">floor(x)</code></p></li><li class="list__item" id="c0broo_416"><p id="c0broo_452"><code class="code" id="c0broo_453">ceil(x)</code></p></li><li class="list__item" id="c0broo_417"><p id="c0broo_454"><code class="code" id="c0broo_455">exp(x)</code></p></li><li class="list__item" id="c0broo_418"><p id="c0broo_456"><code class="code" id="c0broo_457">frac(x)</code></p></li><li class="list__item" id="c0broo_419"><p id="c0broo_458"><code class="code" id="c0broo_459">log(x)</code></p></li><li class="list__item" id="c0broo_420"><p id="c0broo_460"><code class="code" id="c0broo_461">pow(x, y)</code></p></li><li class="list__item" id="c0broo_421"><p id="c0broo_462"><code class="code" id="c0broo_463">random()</code></p></li><li class="list__item" id="c0broo_422"><p id="c0broo_464"><code class="code" id="c0broo_465">round(x)</code></p></li><li class="list__item" id="c0broo_423"><p id="c0broo_466"><code class="code" id="c0broo_467">signum(x)</code></p></li><li class="list__item" id="c0broo_424"><p id="c0broo_468"><code class="code" id="c0broo_469">sqrt(x)</code></p></li><li class="list__item" id="c0broo_425"><p id="c0broo_470"><code class="code" id="c0broo_471">clamp(x, min, max)</code></p></li></ul><ul class="list _horizontal" id="c0broo_400" data-columns="2"><li class="list__item" id="c0broo_472"><p id="c0broo_478"><code class="code" id="c0broo_480">fmod(x, y)</code></p><ul class="list _bullet" id="c0broo_479"><li class="list__item" id="c0broo_481"><p id="c0broo_482">类似 <code class="code" id="c0broo_483">Math.floorMod()</code></p></li></ul></li><li class="list__item" id="c0broo_473"><p id="c0broo_484"><code class="code" id="c0broo_486">if(cond, val, [cond2, val2, ...], val_else)</code></p><ul class="list _bullet" id="c0broo_485"><li class="list__item" id="c0broo_487"><p id="c0broo_488">根据一个或多个条件取值</p></li></ul></li><li class="list__item" id="c0broo_474"><p id="c0broo_489"><code class="code" id="c0broo_491">lerp(k, x, y)</code></p><ul class="list _bullet" id="c0broo_490"><li class="list__item" id="c0broo_492"><p id="c0broo_493">在 <code class="code" id="c0broo_494">x</code> 和 <code class="code" id="c0broo_495">y</code> 之间线性插值</p></li></ul></li><li class="list__item" id="c0broo_475"><p id="c0broo_496"><code class="code" id="c0broo_498">ifb(cond, val, [cond2, val2, ...], val_else)</code></p><ul class="list _bullet" id="c0broo_497"><li class="list__item" id="c0broo_499"><p id="c0broo_500">根据一个或多个条件取布尔值</p></li></ul></li><li class="list__item" id="c0broo_476"><p id="c0broo_501"><code class="code" id="c0broo_503">smooth([id], val, [fadeInTime, [fadeOutTime]])</code></p><ul class="list _bullet" id="c0broo_502"><li class="list__item" id="c0broo_504"><p id="c0broo_507">根据自定义缓入缓出时间平滑一个变量在帧间值的变动。</p></li><li class="list__item" id="c0broo_505"><p id="c0broo_508"><code class="code" id="c0broo_509">id</code> 必须是唯一的，如果不定义将会自动生成。</p></li><li class="list__item" id="c0broo_506"><p id="c0broo_510">默认过渡时间为 1 秒。</p></li></ul></li><li class="list__item" id="c0broo_477"><p id="c0broo_511"><code class="code" id="c0broo_513">print(id, n, x)</code></p><ul class="list _bullet" id="c0broo_512"><li class="list__item" id="c0broo_514"><p id="c0broo_515">每第 <code class="code" id="c0broo_516">n</code> 帧在日志中输出 <code class="code" id="c0broo_517">x</code> 的值。</p></li></ul></li></ul><section class="chapter"><h4 id="c0broo_401" data-toc="c0broo_401">布尔函数</h4><ul class="list _horizontal" id="c0broo_518" data-columns="3"><li class="list__item" id="c0broo_519"><p id="c0broo_522"><code class="code" id="c0broo_524">between(x, min, max)</code></p><ul class="list _bullet" id="c0broo_523"><li class="list__item" id="c0broo_525"><p id="c0broo_526">检查值是否在最大值和最小值之间</p></li></ul></li><li class="list__item" id="c0broo_520"><p id="c0broo_527"><code class="code" id="c0broo_529">equals(x, y, epsilon)</code></p><ul class="list _bullet" id="c0broo_528"><li class="list__item" id="c0broo_530"><p id="c0broo_531">在误差范围内比较两个浮点值</p></li></ul></li><li class="list__item" id="c0broo_521"><p id="c0broo_532"><code class="code" id="c0broo_534">in(x, val1, val2, ...)</code></p><ul class="list _bullet" id="c0broo_533"><li class="list__item" id="c0broo_535"><p id="c0broo_536">检查值是否在取值列表中</p></li></ul></li></ul></section><section class="chapter"><h4 id="c0broo_402" data-toc="c0broo_402">组合向量函数</h4><ul class="list _horizontal" id="c0broo_537" data-columns="3"><li class="list__item" id="c0broo_538"><p id="c0broo_541"><code class="code" id="c0broo_542">vec2(x, y)</code></p></li><li class="list__item" id="c0broo_539"><p id="c0broo_543"><code class="code" id="c0broo_544">vec3(x, y, z)</code></p></li><li class="list__item" id="c0broo_540"><p id="c0broo_545"><code class="code" id="c0broo_546">vec4(x, y, z, w)</code></p></li></ul></section></section><section class="chapter"><h3 id="c0broo_186" data-toc="c0broo_186">示例</h3><div class="code-block" data-lang="properties">
variable.bool.isBiomeDark=in(biome, BIOME_RIVER, BIOME_FOREST)
variable.float.valBiomeDark=smooth(1, if(isBiomeDark, 1, 0), 5)
variable.float.valHurtDark=smooth(2, if(is_hurt, 1.3, 0), 0, 10)
variable.float.valSwordDark=smooth(3, if(heldItemId == 276, 1, 0), 0.5, 0.5)
uniform.float.screenDark=max(valBiomeDark, valHurtDark, valSwordDark)
uniform.vec3.screenDark3=vec3(screenDark, heldItemId, biome)
</div></section></section><section class="chapter"><h2 id="alpha" data-toc="alpha">Alpha 测试</h2><div class="code-block" data-lang="properties">
alphaTest.&lt;program&gt;=&lt;off|func ref&gt;
</div><aside class="prompt" data-type="note" data-title="" id="c0broo_549"><p id="c0broo_550">仅能用于 <code class="code" id="c0broo_551">Compatibility</code> 配置。</p></aside></section><section class="chapter"><h2 id="blend" data-toc="blend">混合</h2><p id="c0broo_552">见 <a href="2-1-solidgeometries.html#blend" id="c0broo_556" data-tooltip="由于几何缓冲程序向缓冲区输出内容之后不会翻转缓冲区，OptiFine 中的一些几何缓冲默认启用了混合（Blending）。GL 可以通过混合方程（Blend Equation）让一些内容在输出时与缓冲区上已有内容进行色彩混合。">混合</a>。</p><div class="code-block" data-lang="properties">
blend.&lt;program&gt;=&lt;off|src dst srcA dstA&gt;
blend.&lt;program&gt;.&lt;buffer&gt;=&lt;off|src dst srcA dstA&gt;
</div><p id="c0broo_554"><code class="code" id="c0broo_557">src</code>、 <code class="code" id="c0broo_558">dst</code>、 <code class="code" id="c0broo_559">srcA</code>、 <code class="code" id="c0broo_560">dstA</code> 可以为下列之一：</p><div class="table-wrapper"><table class="wide" id="c0broo_555"><thead><tr class="ijRowHead" id="c0broo_561"><th id="c0broo_573"><p>参数</p></th><th id="c0broo_574"><p>值</p></th><th id="c0broo_575"><p>备注</p></th></tr></thead><tbody><tr id="c0broo_562"><td id="c0broo_576"><p><code class="code" id="c0broo_579">ZERO</code></p></td><td id="c0broo_577"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.557ex" role="img" focusable="false" viewBox="0 -666 500 688"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container></p></td><td id="c0broo_578"></td></tr><tr id="c0broo_563"><td id="c0broo_581"><p><code class="code" id="c0broo_584">ONE</code></p></td><td id="c0broo_582"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewBox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container></p></td><td id="c0broo_583"></td></tr><tr id="c0broo_564"><td id="c0broo_586"><p><code class="code" id="c0broo_589">SRC_COLOR</code></p></td><td id="c0broo_587"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.72ex;" xmlns="http://www.w3.org/2000/svg" width="3.405ex" height="2.315ex" role="img" focusable="false" viewBox="0 -705 1505.1 1023.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="TeXAtom" transform="translate(748,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">源</text></g></g></g></g></g></svg></mjx-container></p></td><td id="c0broo_588"><p>各通道独立相乘</p></td></tr><tr id="c0broo_565"><td id="c0broo_591"><p><code class="code" id="c0broo_594">ONE_MINUS_SRC_COLOR</code></p></td><td id="c0broo_592"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.72ex;" xmlns="http://www.w3.org/2000/svg" width="7.302ex" height="2.315ex" role="img" focusable="false" viewBox="0 -705 3227.6 1023.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msub" transform="translate(1722.4,0)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="TeXAtom" transform="translate(748,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">源</text></g></g></g></g></g></svg></mjx-container></p></td><td id="c0broo_593"><p>各通道独立相乘</p></td></tr><tr id="c0broo_566"><td id="c0broo_596"><p><code class="code" id="c0broo_599">DST_COLOR</code></p></td><td id="c0broo_597"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.72ex;" xmlns="http://www.w3.org/2000/svg" width="5.005ex" height="2.315ex" role="img" focusable="false" viewBox="0 -705 2212.2 1023.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="TeXAtom" transform="translate(748,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">目</text><text data-variant="normal" transform="translate(1000,0) scale(1,-1)" font-size="884px" font-family="serif">标</text></g></g></g></g></g></svg></mjx-container></p></td><td id="c0broo_598"><p>各通道独立相乘</p></td></tr><tr id="c0broo_567"><td id="c0broo_601"><p><code class="code" id="c0broo_604">ONE_MINUS_DST_COLOR</code></p></td><td id="c0broo_602"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.72ex;" xmlns="http://www.w3.org/2000/svg" width="8.902ex" height="2.315ex" role="img" focusable="false" viewBox="0 -705 3934.7 1023.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msub" transform="translate(1722.4,0)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="TeXAtom" transform="translate(748,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">目</text><text data-variant="normal" transform="translate(1000,0) scale(1,-1)" font-size="884px" font-family="serif">标</text></g></g></g></g></g></svg></mjx-container></p></td><td id="c0broo_603"><p>各通道独立相乘</p></td></tr><tr id="c0broo_568"><td id="c0broo_606"><p><code class="code" id="c0broo_609">SRC_ALPHA</code></p></td><td id="c0broo_607"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.72ex;" xmlns="http://www.w3.org/2000/svg" width="3.484ex" height="2.34ex" role="img" focusable="false" viewBox="0 -716 1540.1 1034.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="TeXAtom" transform="translate(783,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">源</text></g></g></g></g></g></svg></mjx-container></p></td><td id="c0broo_608"></td></tr><tr id="c0broo_569"><td id="c0broo_611"><p><code class="code" id="c0broo_614">ONE_MINUS_SRC_ALPHA</code></p></td><td id="c0broo_612"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.72ex;" xmlns="http://www.w3.org/2000/svg" width="7.381ex" height="2.34ex" role="img" focusable="false" viewBox="0 -716 3262.6 1034.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msub" transform="translate(1722.4,0)"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="TeXAtom" transform="translate(783,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">源</text></g></g></g></g></g></svg></mjx-container></p></td><td id="c0broo_613"></td></tr><tr id="c0broo_570"><td id="c0broo_616"><p><code class="code" id="c0broo_619">DST_ALPHA</code></p></td><td id="c0broo_617"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.72ex;" xmlns="http://www.w3.org/2000/svg" width="5.084ex" height="2.34ex" role="img" focusable="false" viewBox="0 -716 2247.2 1034.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="TeXAtom" transform="translate(783,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">目</text><text data-variant="normal" transform="translate(1000,0) scale(1,-1)" font-size="884px" font-family="serif">标</text></g></g></g></g></g></svg></mjx-container></p></td><td id="c0broo_618"></td></tr><tr id="c0broo_571"><td id="c0broo_621"><p><code class="code" id="c0broo_624">ONE_MINUS_DST_ALPHA</code></p></td><td id="c0broo_622"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.72ex;" xmlns="http://www.w3.org/2000/svg" width="8.981ex" height="2.34ex" role="img" focusable="false" viewBox="0 -716 3969.7 1034.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msub" transform="translate(1722.4,0)"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="TeXAtom" transform="translate(783,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">目</text><text data-variant="normal" transform="translate(1000,0) scale(1,-1)" font-size="884px" font-family="serif">标</text></g></g></g></g></g></svg></mjx-container></p></td><td id="c0broo_623"></td></tr><tr id="c0broo_572"><td id="c0broo_626"><p><code class="code" id="c0broo_629">SRC_ALPHA_SATURATE</code></p></td><td id="c0broo_627"><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.72ex;" xmlns="http://www.w3.org/2000/svg" width="19.003ex" height="2.417ex" role="img" focusable="false" viewBox="0 -750 8399.4 1068.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z"></path><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(833,0)"></path><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1111,0)"></path></g><g data-mml-node="mo" transform="translate(1667,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(2056,0)"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="TeXAtom" transform="translate(783,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">源</text></g></g></g><g data-mml-node="mo" transform="translate(3596.1,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mn" transform="translate(4040.8,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(4763,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msub" transform="translate(5763.2,0)"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g><g data-mml-node="TeXAtom" transform="translate(783,-176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mtext"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">目</text><text data-variant="normal" transform="translate(1000,0) scale(1,-1)" font-size="884px" font-family="serif">标</text></g></g></g><g data-mml-node="mo" transform="translate(8010.4,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container></p></td><td id="c0broo_628"></td></tr></tbody></table></div></section><section class="chapter"><h2 id="c0broo_15" data-toc="c0broo_15">延迟处理渲染缩放</h2><div class="code-block" data-lang="properties">
scale.&lt;program&gt;=&lt;scale|scale offsetX offsetY&gt;
</div><p id="c0broo_632">自定义延迟处理程序中铺屏四边形的视口尺寸。要求所有值都在 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.526ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2000.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mn" transform="translate(278,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mn" transform="translate(1222.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(1722.7,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g></g></g></svg></mjx-container> 区间内。</p></section><section class="chapter"><h2 id="c0broo_16" data-toc="c0broo_16">翻转缓冲区</h2><div class="code-block" data-lang="properties">
flip.&lt;program&gt;.&lt;buffer&gt;=&lt;true|false&gt;
</div><p id="c0broo_635">启用或禁用指定延迟处理程序的指定颜色附件的缓冲区翻转功能，即&ldquo;乒乓缓冲区&rdquo;（Ping-pong buffer）。禁用翻转后，下一个延迟处理程序将会使用和上一个程序相同的输入和输出目标，而不是将上一个程序的输出作为输入，即缓冲区的 <code class="code" id="c0broo_638">main</code> 和 <code class="code" id="c0broo_639">alt</code> 标签不互换。最后一个完成写入的程序应当启用缓冲区翻转，以便之后的程序正确读取处理后的内容。</p><p id="c0broo_636">这个功能常用于多个程序读取和写入同一个缓冲区不同区域的内容（以顶点覆盖区域计）。强制翻转缓冲区可以用于读取一个颜色附件的两个缓冲区上的不同内容（即使在程序中没有向缓冲区写入内容也强制翻转，以便在下一个程序中读取颜色附件上另一个缓冲区的内容）。</p><p id="c0broo_637">默认行为：当程序向缓冲区写入内容后，会翻转缓冲区；如果没有写入内容，则不会翻转缓冲区。几何缓冲强制禁用翻转，向 <code class="code" id="c0broo_640">alt</code> 写入的内容会在着色器结束时同步至 <code class="code" id="c0broo_641">main</code>。</p></section><section class="chapter"><h2 id="c0broo_17" data-toc="c0broo_17">缓冲区尺寸</h2><div class="code-block" data-lang="properties">
size.buffer.&lt;buffer&gt;=width height
</div><p id="c0broo_643">指定固定尺寸的缓冲区。只有 <code class="code" id="c0broo_648">prepare</code>、 <code class="code" id="c0broo_649">deferred</code> 和 <code class="code" id="c0broo_650">composite</code> 程序可以向固定尺寸缓冲区写入。</p><p id="c0broo_644">不可以同时向多个不同尺寸的缓冲区中写入，即一个程序中只能向同尺寸的多个缓冲区输出。</p><p id="c0broo_645">当高宽尺寸为浮点值时，会作为相对窗口渲染的尺寸。如</p><div class="code-block" data-lang="properties">
size.buffer.colortex2=0.5 0.5
</div><p id="c0broo_647">会创建一个高宽均为渲染分辨率一半的缓冲区。渲染分辨率由 <code class="code" id="c0broo_651">光影</code> &gt; <code class="code" id="c0broo_652">渲染精细度</code> 和游戏窗口分辨率共同控制。</p></section><section class="chapter"><h2 id="c0broo_18" data-toc="c0broo_18">开关特定的程序</h2><div class="code-block" data-lang="properties">
program.&lt;program&gt;.enabled=&lt;表达式&gt;
</div><p id="c0broo_654">和光影设置联动，用以当关闭一些效果时禁用处理它们的程序或启用相关后备程序。程序名称可以包含维度，如：</p><div class="code-block" data-lang="properties">
program.world-1/composite2.enabled=BLOOM
</div><p id="c0broo_656">表达式可以是多个定义组成的布尔运算，如：</p><div class="code-block" data-lang="properties">
program.composite.enabled=(BLOOM || SSAO) &amp;&amp; !GODRAYS
</div><p id="c0broo_658">相比宏开关，禁用整个程序能节省更多编译时间。</p></section><div class="last-modified">09 July 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="a02-corebuiltinvars.html" class="navigation-links__prev">核心配置中可用的内建变量</a><a href="a04-textureandpx.html" class="navigation-links__next">纹理和像素</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>