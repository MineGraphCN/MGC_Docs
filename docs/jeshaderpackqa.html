<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#FDB71B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-02-24T17:13:49.963674096"><title>Java 版光影问答 | MineGraph Docs</title><script type="application/json" id="virtual-toc-data">[{"id":"whyJEPerformanceSoTerrible","level":0,"title":"为什么 Java 版光影优化如此糟糕？","anchor":"#whyJEPerformanceSoTerrible"},{"id":"ilutzm_7","level":0,"title":"什么光影最好？某某光影是高配还是低配？","anchor":"#ilutzm_7"},{"id":"ilutzm_8","level":0,"title":"光影区分游戏版本吗？","anchor":"#ilutzm_8"},{"id":"JEWithRTCore","level":0,"title":"Java 版光影能否调用光追加速单元？","anchor":"#JEWithRTCore"},{"id":"a-b","level":0,"title":"我喜欢 A 光影的水和 B 光影的云，我可以把两个包的文件相互替换来混合吗？","anchor":"#a-b"},{"id":"optifine-iris-sodium","level":0,"title":"OptiFine 能与 Iris、Sodium 一起运行吗？","anchor":"#optifine-iris-sodium"},{"id":"java-dlss-fsr-xess","level":0,"title":"Java 版光影能否搭配 DLSS / FSR / XeSS？","anchor":"#java-dlss-fsr-xess"},{"id":"ilutzm_13","level":0,"title":"光线追踪光影与传统光影的最本质区别是什么？","anchor":"#ilutzm_13"},{"id":"java","level":0,"title":"Java 版叫 光影，基岩版就只能叫 着色器 或 伪光影 ？","anchor":"#java"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="MGC_Docs/page_logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Java 版光影问答 | MineGraph Docs"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="MineGraph Docs Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://docs.minegraph.cn/md/jeshaderpackqa.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Java 版光影问答 | MineGraph Docs"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://docs.minegraph.cn/md/jeshaderpackqa.html#webpage",
    "url": "https://docs.minegraph.cn/md/jeshaderpackqa.html",
    "name": "Java 版光影问答 | MineGraph Docs",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://docs.minegraph.cn/md/#website",
    "url": "https://docs.minegraph.cn/md/",
    "name": "MineGraph Docs Help"
}</script><!-- End Schema.org --></head><body data-id="jeShaderpackQA" data-main-title="Java 版光影问答" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Library.md|知识库///QAs.md|问答"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MineGraph Docs  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="jeShaderpackQA" data-label-id="basic" data-annotation-ids="jeDoc,shaderDoc" id="jeShaderpackQA.md">Java 版光影问答</h1><section class="chapter"><h2 id="whyJEPerformanceSoTerrible" data-toc="whyJEPerformanceSoTerrible">为什么 Java 版光影优化如此糟糕？</h2><p id="ilutzm_15">事实上 OpenGL 本身性能不差，但是光影选用的 GLSL 版本老旧或受限于其编写时代，一些新 GL 特性无法使用，导致老旧的着色器代码产生了很多不必要的开销。</p><p id="ilutzm_16">除了 GPU 驱动程序，更多的性能缺陷是来自于 Java 版游戏的渲染线程本身：</p><ul class="list _bullet" id="ilutzm_17"><li class="list__item" id="ilutzm_20"><p>LWJGL 封装加上 Blaze3d 封装让代码效率打了折扣；</p></li><li class="list__item" id="ilutzm_21"><p>游戏渲染和主进程绑定在一起，也就意味着虽然 GPU 可能有空闲，但是由于主进程运算阻塞，导致 FPS 降低（新版本区块构建器的 <code class="code" id="ilutzm_23">线程化</code> 模式一定程度上缓解了这个问题）；</p></li><li class="list__item" id="ilutzm_22"><p>由于其商业原因和历史包袱，Mojang 没能力做到 Sodium 或者 <span class="tooltip" id="ilutzm_24" title="OptiFine">OF</span> 那样的优化。</p></li></ul><p id="ilutzm_18">总的来说，问题是多方面的：</p><ul class="list _bullet" id="ilutzm_19"><li class="list__item" id="ilutzm_25"><p>从最底层看：御三家的 OpenGL 实现做的参差不齐；</p></li><li class="list__item" id="ilutzm_26"><p>往上看：OpenGL 本身历史包袱重，而且 Mojang 仍然在用旧的 GL 版本；</p></li><li class="list__item" id="ilutzm_27"><p>看引擎： LWJGL 也就 Minecraft 在用了，小厂自研，优化一般，单线程运作也限制了过多东西；</p></li><li class="list__item" id="ilutzm_28"><p>看游戏架构：经典单核，渲染与其他操作绑定同步，只要别的地方出岔子，渲染就卡；</p></li><li class="list__item" id="ilutzm_29"><p>再看看渲染代码： <span class="emphasis" id="ilutzm_31">It just works</span>；</p></li><li class="list__item" id="ilutzm_30"><p>最后看总体：屎山堆积，一代不如一代。</p></li></ul></section><section class="chapter"><h2 id="ilutzm_7" data-toc="ilutzm_7">什么光影最好？某某光影是高配还是低配？</h2><p id="ilutzm_32"><span class="control" id="ilutzm_35">光影不存在最好，只存在最适合自己</span> ，包括所谓光追，并不是带有先进技术的才是好的。你可能会想在光源复杂巨型建筑群上运行带有路径追踪光影，也有可能会想在自己的生存小屋里开上一个原版风味光影。</p><p id="ilutzm_33"><span class="control" id="ilutzm_36">渲染是一个动态的过程</span> ，任何变量（游戏版本、地图地形、资源包、模组、数据包，甚至视野内的物体等等）都会对光影的帧数产生影响，从而使帧数变得不稳定。 <br> 而由于光影设置的存在，某些光影所需要的性能上下限也会大相径庭，因此<span class="control" id="ilutzm_38">光影不存在明确的高低配说法</span> 。但是针对某些光影的默认配置进行客观存在的性能评估也是可能的，这种情况下，你应该将具体场景细化再提问。</p><p id="ilutzm_34"><span class="control" id="ilutzm_39">最清楚这个答案的是你和你的设备，多亲自测试，而不是问其他人！</span></p></section><section class="chapter"><h2 id="ilutzm_8" data-toc="ilutzm_8">光影区分游戏版本吗？</h2><p id="ilutzm_40"><span class="control" id="ilutzm_44">一般来说，光影不区分游戏版本</span> ，而是取决于 <span class="tooltip" id="ilutzm_45" title="OptiFine">OF</span> 和 <a href="terms.html#glsl" id="ilutzm_46" data-tooltip="">GLSL</a> 。OF 偶尔会添加独特的新特性和变量，而 GLSL 版本决定了可以使用的特性。</p><p id="ilutzm_41">有一个<span class="control" id="ilutzm_47">例外</span>是，如果光影基于 <span class="control" id="ilutzm_48">JE 1.12</span> 及以前的游戏版本，可能由于 <a href="resourcepackbasic.html#roughComp" id="ilutzm_49" data-tooltip="在 JE 1.13 时，Mojang 进行了一轮游戏代码重写，这轮重写包含了一次对方块 ID 和命名方法的统一修改，称为扁平化，这也导致了自 JE 1.13 开始，资源包的兼容性出现了断层">扁平化</a> 而使 <code class="code" id="ilutzm_50">block.properties</code> 等配置文件失效。</p><p id="ilutzm_42">排除例外情况之后，如果光影仍不兼容当前游戏的情况，请检查以下原因：</p><ul class="list _bullet" id="ilutzm_43"><li class="list__item" id="ilutzm_51"><p><span class="control" id="ilutzm_54">设备问题</span></p><ul class="list _bullet" id="ilutzm_55"><li class="list__item" id="ilutzm_56"><p><span class="control" id="ilutzm_59">光影使用了你的设备不支持的 GLSL 版本</span> ，大多数现代 GPU 所支持的 OpenGL 版本都是 4.6.0，GLSL 使用 <code class="code" id="ilutzm_60">#version</code> 语句声明，过旧的 GPU 可能不支持光影所声明的 GL 版本，若情况如此请更换光影。 </p><ul class="list _bullet" id="ilutzm_61"><li class="list__item" id="ilutzm_62"><p>移动平台此问题最为严重，它们的兼容性不在大多数 Java 版光影的考虑范围之内，若情况如此请<span class="control" id="ilutzm_63">不要反馈给作者</span>。</p></li></ul></li><li class="list__item" id="ilutzm_57"><p><span class="control" id="ilutzm_64">使用了 AMD 系列显卡</span> 。自 2022 年 7 月开始， AMD 大幅重写了显卡驱动，在提升了一定性能的同时，把原本就不佳的兼容性破坏到无以复加。如果想要体验较多的光影，请将显卡驱动回滚至 <code class="code" id="ilutzm_65">22.6.1</code> 及以前。</p></li><li class="list__item" id="ilutzm_58"><p><span class="control" id="ilutzm_66">使用了英特尔系列显卡</span> 。英特尔系列显卡对光影的支持一直很糟糕。如果你的电脑还有独立显卡，请尽量调用独显来运行游戏，若有需要可以查阅 <a href="troubleshootcommon.html" id="ilutzm_67" data-tooltip="">通用问题</a>。</p></li></ul></li><li class="list__item" id="ilutzm_52"><p><span class="control" id="ilutzm_68">光影加载器问题</span></p><ul class="list _bullet" id="ilutzm_69"><li class="list__item" id="ilutzm_70"><p><span class="control" id="ilutzm_76">使用了 OF 的预览版</span> ，OF 的预览版可能存在未知问题，会导致一系列不兼容现象，有时候还会无法启用光影，若情况如此请更换 OF 版本，如有需要可以查阅 <a href="jeinstallshaders.html" id="ilutzm_77" data-tooltip="">Java 版光影安装指南</a>。</p></li><li class="list__item" id="ilutzm_71"><p><span class="control" id="ilutzm_78">使用了 Iris</span> ，Iris 缺失一些 OF 功能并且存在未知的 BUG，导致各种不兼容情况，若情况如此请更换为 OF。</p></li><li class="list__item" id="ilutzm_72"><p><span class="control" id="ilutzm_79">光影依赖于 Iris</span> ，某些光影的部分功能或整个光影依赖 Iris 的独占特性，若情况如此请更换为 Iris。</p></li><li class="list__item" id="ilutzm_73"><p><span class="control" id="ilutzm_80">光影依赖于 Canvas</span> ，若情况如此请更换为 Canvas，并将光影拖入 <code class="code" id="ilutzm_81">resourcepacks</code>。</p></li><li class="list__item" id="ilutzm_74"><p><span class="control" id="ilutzm_82">是原版光影</span> ，无需光影加载器，若情况如此请将光影拖入 <code class="code" id="ilutzm_83">resourcepacks</code> ，并将图像品质改为 <span class="emphasis" id="ilutzm_84"><code class="code" id="ilutzm_87">极佳！</code></span> ，如果你已安装其他光影加载器，则可能需要<span class="control" id="ilutzm_85">关闭</span>它们的光影功能，才能切换为 <span class="emphasis" id="ilutzm_86"><code class="code" id="ilutzm_88">极佳！</code></span>。</p></li><li class="list__item" id="ilutzm_75"><p><span class="control" id="ilutzm_89">光影过于老旧</span> ，特别是基于 <a href="terms.html#glslShaderCore" id="ilutzm_90" data-tooltip="然而事实上…">GLSL 光影核心</a> 的光影，若情况如此请更换光影，若仍需使用请安装 <span class="control" id="ilutzm_91">JE 1.12</span> 及以前的版本，并安装 GLSL 光影核心模组和<span class="control" id="ilutzm_92">不带有光影功能的 OF</span>。</p></li></ul></li><li class="list__item" id="ilutzm_53"><p><span class="control" id="ilutzm_93">模组兼容问题</span> ，请检查所用模组的简介页是否有不兼容 OF 的说明，包括但不限于： </p><ul class="list _bullet" id="ilutzm_94"><li class="list__item" id="ilutzm_95"><p><span class="control" id="ilutzm_99">未声明与 OF 的兼容性</span> ，或声明了需要通过设置进行兼容的模组： </p><ul class="list _bullet" id="ilutzm_100"><li class="list__item" id="ilutzm_101"><p>视觉类模组（如： <span class="control" id="ilutzm_104">更好的树叶</span>）；</p></li><li class="list__item" id="ilutzm_102"><p>自带渲染的模组（如： <span class="control" id="ilutzm_105">植物魔法</span>）；</p></li><li class="list__item" id="ilutzm_103"><p>此类模组，请前往 <a href="modscompatibility.html" id="ilutzm_106" data-tooltip="">光影和模组兼容性</a> 寻找可能的解决方式。</p></li></ul></li><li class="list__item" id="ilutzm_96"><p><span class="control" id="ilutzm_107">声明了不支持 OF 的模组</span> （如暮色森林），如有运行光影的硬性需求，可以尝试使用 Iris <sup class="superscript" id="ilutzm_108">Fabric</sup> 或 Oculus <sup class="superscript" id="ilutzm_109">Forge</sup> ，否则，请卸载任何光影加载器。</p></li><li class="list__item" id="ilutzm_97"><p><span class="control" id="ilutzm_110">声明了兼容 OF，但是不兼容其光影模块的模组</span> ，像 Distant Horizons 这样虽然兼容了 OF 却没有兼容其光影模块的模组，若情况如此，请更换为其他光影加载器，或者卸载任何光影加载器。</p></li><li class="list__item" id="ilutzm_98"><p><span class="control" id="ilutzm_111">需要光影进行主动兼容的模组</span> ，像 Distant Horizons 和 Physics 这样的模组要求光影进行主动兼容，若情况如此，请更换为声明已兼容这些模组的光影。</p></li></ul></li></ul></section><section class="chapter"><h2 id="JEWithRTCore" data-toc="JEWithRTCore">Java 版光影能否调用光追加速单元？</h2><p id="ilutzm_112"><span class="control" id="ilutzm_117">可能可以，但不是现在。</span></p><p id="ilutzm_113">Java 版所使用的图形库为 OpenGL，它没有相关的接口来调用加速单元。</p><p id="ilutzm_114">但是，一些 Java 版模组正在试图将图形库更换为 Vulkan：</p><ul class="list _bullet" id="ilutzm_115"><li class="list__item" id="ilutzm_118"><p>Vulkan Mod；</p></li><li class="list__item" id="ilutzm_119"><p>Sodium 的 Vulkan 分支。</p></li><li class="list__item" id="ilutzm_120"><p>正在开发中的 Focal VK</p></li></ul><p id="ilutzm_116">理论上可实现调用硬件来加速光线追踪渲染。但以这些项目的开发速度来看，想要在短时间内实现对光影的支持，希望非常渺茫。</p></section><section class="chapter"><h2 id="a-b" data-toc="a-b">我喜欢 A 光影的水和 B 光影的云，我可以把两个包的文件相互替换来混合吗？</h2><p id="ilutzm_121"><span class="control" id="ilutzm_127">通常情况下，不能。</span></p><p id="ilutzm_122"><span class="control" id="ilutzm_128">光影包没有标准的做事方式</span> ，不同的光影在同一个阶段（或者着色器程序）干的事不尽相同，它们向同一个 <a href="terms.html#缓冲区" id="ilutzm_129" data-tooltip="">缓冲区</a> 写入的内容大多数时候也不一致，甚至缓冲区的格式也五花八门。</p><p id="ilutzm_123">不同的光影可能会用完全不同的方法干同一件事情，而每个效果的代码也可能与其他效果存在<span class="control" id="ilutzm_130">耦合</span> ，同时会针对光影的整体风格进行调整。</p><p id="ilutzm_124">当然，如果你对自己的 GLSL 能力自信，可以试一试，但是不要试图通过简单的文件替换来获得两个包的效果。</p><ul class="list _bullet" id="ilutzm_125"><li class="list__item" id="ilutzm_131"><p>你可以询问你想组合光影包的开发者，他们的效果是如何／在哪里实现的，这些问题对于结合光影效果是有必要的。</p></li><li class="list__item" id="ilutzm_132"><p>但是，不要指望让开发者无条件帮你修改光影，或者教你 GLSL， <span class="control" id="ilutzm_134">这不是他们的义务</span>！</p></li><li class="list__item" id="ilutzm_133"><p>当然，你也可以<span class="control" id="ilutzm_135">付费委托</span>他人帮你制作。</p></li></ul><p id="ilutzm_126">但是请注意你所选的光影包中的许可协议，在未经授权的情况下发布修改后的光影可能<span class="control" id="ilutzm_136">涉嫌侵权</span>！</p></section><section class="chapter"><h2 id="optifine-iris-sodium" data-toc="optifine-iris-sodium">OptiFine 能与 Iris、Sodium 一起运行吗？</h2><p id="ilutzm_137"><span class="control" id="ilutzm_139">不能。</span></p><ul class="list _bullet" id="ilutzm_138"><li class="list__item" id="ilutzm_140"><p>Iris 与其<span class="control" id="ilutzm_142">功能重复</span>；</p></li><li class="list__item" id="ilutzm_141"><p>Sodium 与其<span class="control" id="ilutzm_143">冲突</span> ，它们都对原版进行了大量修改优化。</p></li></ul></section><section class="chapter"><h2 id="java-dlss-fsr-xess" data-toc="java-dlss-fsr-xess">Java 版光影能否搭配 DLSS / FSR / XeSS？</h2><ul class="list _bullet" id="ilutzm_144"><li class="list__item" id="ilutzm_145"><p>FSR <span class="control" id="ilutzm_148">理论上可行</span> ，也确实有光影这样做了（iterationT 3.2 实现了 FSR 1.0）；</p></li><li class="list__item" id="ilutzm_146"><p>DLSS <span class="control" id="ilutzm_149">目前不可行</span> ，理由和 <a href="#JEWithRTCore" id="ilutzm_150" data-tooltip="Java 版光影能否调用光追加速单元？">前文</a> 一致，无法调用<span class="tooltip" id="ilutzm_151" title="Tensor Core">张量核心</span>；</p></li><li class="list__item" id="ilutzm_147"><p>XeSS 的传统方法<span class="control" id="ilutzm_152">理论上可行</span> ，加速核心独占方法同 DLSS，目前不可行。</p></li></ul></section><section class="chapter"><h2 id="ilutzm_13" data-toc="ilutzm_13">光线追踪光影与传统光影的最本质区别是什么？</h2><p id="ilutzm_153"><span class="control" id="ilutzm_156">是否使用了光追算法</span>。</p><p id="ilutzm_154">也就是说，只要光影文件里存在光追算法，那就属于光线追踪光影，与你所使用的 GPU 无关。</p><p id="ilutzm_155">关于如何区分光追和光栅光影，参阅 <a href="raytracingcorrection.html#RTDiffer" id="ilutzm_157" data-tooltip="">那要如何区分光栅化和光线追踪光影？</a>。</p></section><section class="chapter"><h2 id="java" data-toc="java">Java 版叫 <span class="emphasis" id="ilutzm_162">光影</span> ，基岩版就只能叫 <span class="emphasis" id="ilutzm_163">着色器</span> 或 <span class="emphasis" id="ilutzm_164">伪光影</span>？</h2><p id="ilutzm_159">这里有一些有趣的历史渊源：</p><ul class="list _bullet" id="ilutzm_160"><li class="list__item" id="ilutzm_165"><p>国内最早把 GLSL 光影核心所运行的光影包称为 <span class="emphasis" id="ilutzm_169">光影水反</span> ，后来 <span class="tooltip" id="ilutzm_170" title="OptiFine">OF</span> 合并其功能之后，其功能选项卡 <code class="code" id="ilutzm_171">shaders</code> 译名被确认为了 <span class="emphasis" id="ilutzm_172">光影</span> ，但 <span class="emphasis" id="ilutzm_173">shader</span> 的标准译名是 <span class="emphasis" id="ilutzm_174">着色器</span>。</p></li><li class="list__item" id="ilutzm_166"><p>由于修改 <span class="emphasis" id="ilutzm_175">shaders</span> 的媒介是 <span class="emphasis" id="ilutzm_176">shader packs</span> ，而一个 <span class="emphasis" id="ilutzm_177">shader pack</span> 包含了多个 <span class="emphasis" id="ilutzm_178">shaders</span> ，因此我们常称呼的 <span class="emphasis" id="ilutzm_179">光影</span> 事实上是指代的 <span class="emphasis" id="ilutzm_180">shader pack</span> ，而每个光影中除配置文件外由 OF 直接读取并编译的程序则是 <span class="emphasis" id="ilutzm_181">shader</span> 。反过来也同理， <span class="emphasis" id="ilutzm_182">shader<span class="control" id="ilutzm_184">s</span></span> 再加上各种配置文件就组成了一个 <span class="emphasis" id="ilutzm_183">shader pack</span>。</p></li><li class="list__item" id="ilutzm_167"><p>也由此我们可以知道，光影和着色器<span class="control" id="ilutzm_185">本质上</span>是同义词，光影只是着色器在国内的<span class="control" id="ilutzm_186">另一种好听的说法</span> ，就像你可以把 <span class="emphasis" id="ilutzm_187">引力波</span> 称作 <span class="emphasis" id="ilutzm_188">时空涟漪</span>。</p></li><li class="list__item" id="ilutzm_168"><p>我们则更倾向于<span class="control" id="ilutzm_189">将整个 <span class="emphasis" id="ilutzm_190">shader pack</span> 称为 <span class="emphasis" id="ilutzm_191">光影</span> ，而其内部的每个 <span class="emphasis" id="ilutzm_192">shader</span> 则称为 <span class="emphasis" id="ilutzm_193">着色器</span></span>。</p></li></ul><p id="ilutzm_161">而基岩版由于接口先天的缺乏以及<span class="control" id="ilutzm_194">移动设备性能不足</span> ，无法像 Java 版一样做出效果相对完整的光影，但<span class="control" id="ilutzm_195">它仍然叫做光影</span>。 <br> 还有一种说法是，基岩版光影没有实时阴影，不配叫光影。然而光影二字，从来都不是指代实时阴影，也<span class="control" id="ilutzm_197">不会有任何一位光影作者会提出没有实时阴影就不是光影这种观点</span>！</p></section><div class="last-modified">Last modified: 24 February 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="beqa.html" class="navigation-links__prev">基岩版相关问答</a><a href="jeresourcepackqa.html" class="navigation-links__next">Java 版资源包（纹理包）问答</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>