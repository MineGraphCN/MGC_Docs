<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#FDB71B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-04-15T12:54:11.591983573"><title>Java 版光影问答 | MineGraph Docs</title><script type="application/json" id="virtual-toc-data">[{"id":"mc","level":0,"title":"为什么 MC 的光影优化如此糟糕？","anchor":"#mc"},{"id":"iq82rd_31","level":0,"title":"推荐一个漂亮／流畅的光影？","anchor":"#iq82rd_31"},{"id":"iq82rd_47","level":0,"title":"光影区分游戏版本吗？","anchor":"#iq82rd_47"},{"id":"java-rtx","level":0,"title":"Java 版光影能否用 RTX 的光追核心来提供更好的实时光线追踪效果？","anchor":"#java-rtx"},{"id":"a-b","level":0,"title":"我喜欢 A 光影的水和 B 光影的云。我可以把这两个包结合起来吗？","anchor":"#a-b"},{"id":"optifine-iris-sodium","level":0,"title":"OptiFine 能与 Iris、Sodium 一起运行吗？","anchor":"#optifine-iris-sodium"},{"id":"java-dlss-fsr","level":0,"title":"Java 版 光影能否搭配 DLSS / FSR？","anchor":"#java-dlss-fsr"},{"id":"iq82rd_159","level":0,"title":"光线追踪光影 与 传统光影 的最本质区别是什么？","anchor":"#iq82rd_159"},{"id":"java","level":0,"title":"Java版 的着色器叫 光影，基岩版 的着色器就只能叫 着色器 或 伪光影？","anchor":"#java"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="MGC_Docs/MGC-darklogo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Java 版光影问答 | MineGraph Docs"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="MineGraph Docs Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://minegraphcn.github.io/md/测试版/je-shaderpack.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Java 版光影问答 | MineGraph Docs"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://minegraphcn.github.io/md/测试版/je-shaderpack.html#webpage",
    "url": "https://minegraphcn.github.io/md/测试版/je-shaderpack.html",
    "name": "Java 版光影问答 | MineGraph Docs",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://minegraphcn.github.io/md/#website",
    "url": "https://minegraphcn.github.io/md/",
    "name": "MineGraph Docs Help"
}</script><!-- End Schema.org --></head><body data-id="je-shaderpack" data-main-title="Java 版光影问答" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Library.md|知识库///QAs.md|问答"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MineGraph Docs 测试版 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="je-shaderpack" id="je-shaderpack.md">Java 版光影问答</h1><aside class="prompt" data-type="warning" data-title="未经优化的文档" id="iq82rd_2"><p id="iq82rd_3">这篇文档的格式较为不规范，目前正在订正中。</p></aside><section class="chapter"><h2 id="mc" data-toc="mc">为什么 MC 的光影优化如此糟糕？</h2><p id="iq82rd_4">有以下几个原因：</p><ul class="list _bullet" id="iq82rd_5"><li class="list__item" id="iq82rd_6"><p><code class="code" id="iq82rd_7">OpenGL</code> 本身性能不差，但是选用的版本老旧，导致老旧的着色器代码具有<span class="control" id="iq82rd_8">极大的优化空间</span>；</p></li><li class="list__item" id="iq82rd_9"><p><code class="code" id="iq82rd_10">lwjgl</code> 封装加上 <code class="code" id="iq82rd_11">Blaze3d</code> 封装让代码效率打了折扣；</p></li><li class="list__item" id="iq82rd_12"><p>游戏渲染和主进程绑定在一起，也就意味着虽然 <code class="code" id="iq82rd_13">GPU</code> 可能有空闲，但是由于主进程运算阻塞，导致 <code class="code" id="iq82rd_14">FPS</code> 降低；</p></li><li class="list__item" id="iq82rd_15"><p>部分优化完全可以达到很好的效果，但是 Mojang 没能力做（例如 <code class="code" id="iq82rd_16">Sodium</code> 或者 <code class="code" id="iq82rd_17">OptiFine</code> 的优化）。</p></li><li class="list__item" id="iq82rd_18"><p>换言之： </p><ul class="list _bullet" id="iq82rd_19"><li class="list__item" id="iq82rd_20"><p>从最底层看，御三家的 <code class="code" id="iq82rd_21">OpenGL</code> 实现做的参差不齐；</p></li><li class="list__item" id="iq82rd_22"><p>往上看 <code class="code" id="iq82rd_23">OpenGL</code> 本身历史包袱重，而且 <code class="code" id="iq82rd_24">Mojang</code> 用的是旧的方法，新的也不会用；</p></li><li class="list__item" id="iq82rd_25"><p>看引擎： <code class="code" id="iq82rd_26">lwjgl</code> 也就 <code class="code" id="iq82rd_27">MC</code> 在用了，小厂自研，优化一般，单线程运作也限制了过多东西；</p></li><li class="list__item" id="iq82rd_28"><p>看游戏架构：渲染与其他操作绑定同步，只要别的地方出岔子，渲染就卡；</p></li><li class="list__item" id="iq82rd_29"><p>再看看渲染代码：优化二字完全没体现，能用就行；</p></li><li class="list__item" id="iq82rd_30"><p>最后看总体：一代不如一代。</p></li></ul></li></ul></section><section class="chapter"><h2 id="iq82rd_31" data-toc="iq82rd_31">推荐一个漂亮／流畅的光影？</h2><p id="iq82rd_32"><span class="control" id="iq82rd_33">最清楚这个答案的是你和你的设备，而不是回答的任何人！</span></p><ul class="list _bullet" id="iq82rd_34"><li class="list__item" id="iq82rd_35"><p>鉴于不同人对漂亮／流畅的定义不同，我们不可能直接给出答案，也不建议在 <code class="code" id="iq82rd_36">已自行体验光影之前</code> 抛出该问题。</p></li><li class="list__item" id="iq82rd_37"><p>光影在游戏中的渲染是一个<span class="control" id="iq82rd_38">动态</span>的过程，任何变量（<code class="code" id="iq82rd_39">游戏版本</code>、 <code class="code" id="iq82rd_40">地图地形</code>、 <code class="code" id="iq82rd_41">资源包</code>、 <code class="code" id="iq82rd_42">模组</code>、 <code class="code" id="iq82rd_43">数据包</code> ，甚至<span class="control" id="iq82rd_44">游戏内朝着不同的东西看</span>等等）都会对光影的帧数<span class="control" id="iq82rd_45">产生影响</span> ，从而使帧数变得不稳定。</p></li><li class="list__item" id="iq82rd_46"><p>最快获取答案的方式是你自己逐个测试，而不是问其他人！</p></li></ul></section><section class="chapter"><h2 id="iq82rd_47" data-toc="iq82rd_47">光影区分游戏版本吗？</h2><p id="iq82rd_48"><span class="control" id="iq82rd_49">一般来说，光影不区分游戏版本</span>， <code class="code" id="iq82rd_50">GLSL</code> 的兼容性可以保证光影能够在 <span class="control" id="iq82rd_51">大多数设备</span> 上运行。如果你遇到有部分光影不兼容当前游戏的情况，请检查原因是否为以下几点：</p><ul class="list _bullet" id="iq82rd_52"><li class="list__item" id="iq82rd_53"><p><span class="control" id="iq82rd_54">使用了 <code class="code" id="iq82rd_55">OptiFine 最新预览版</code></span> ，可能会导致一系列不兼容现象，有时候还会无法启用光影。</p></li><li class="list__item" id="iq82rd_56"><p><span class="control" id="iq82rd_57">使用了 <code class="code" id="iq82rd_58">Iris</code></span> 。该模组面向玩家设计，会有部分光影不支持。</p></li><li class="list__item" id="iq82rd_59"><p><span class="control" id="iq82rd_60">光影过于老旧</span> ，可能会出现语法不规范，内容不完善等问题。</p></li><li class="list__item" id="iq82rd_61"><p><span class="control" id="iq82rd_62">Mod 兼容问题</span> ，请检查所用 Mod 是否有不兼容 OptiFine 的说明，包括但不限于： </p><ul class="list _bullet" id="iq82rd_63"><li class="list__item" id="iq82rd_64"><p>视觉类 Mod（如： <span class="control" id="iq82rd_65">更好的树叶</span>）；</p></li><li class="list__item" id="iq82rd_66"><p><code class="code" id="iq82rd_67">自带渲染的 Mod</code> （如： <span class="control" id="iq82rd_68">植物魔法</span>）；</p></li><li class="list__item" id="iq82rd_69"><p>声明了不支持 OptiFine 的 Mod（如： <span class="control" id="iq82rd_70">暮色森林</span>）。</p></li><li class="list__item" id="iq82rd_71"><p>如果出现该类问题，请前往 <span id="iq82rd_72">疑难解答 - 模组兼容性</span> 寻找可能的解决方式。</p></li></ul></li><li class="list__item" id="iq82rd_73"><p><span class="control" id="iq82rd_74">使用了 AMD Radeon 系列显卡</span> 。自 2022 年 7 月开始， AMD 大幅重写了显卡驱动，在提升了一定性能的同时，把原本就不佳的兼容性破坏到无以复加。如果想要体验较多的光影，请将显卡驱动回滚至 <code class="code" id="iq82rd_75">22.6.1 及以前</code>。</p></li><li class="list__item" id="iq82rd_76"><p><span class="control" id="iq82rd_77">使用了 Intel 系列显卡</span> 。Intel 系列显卡对光影的支持一直很糟糕。如果你的电脑还有独立显卡，请尽量调用独显来运行游戏。调用独显的具体方法根据显卡商，有不同分类，可通过搜索引擎获取，此不赘述。</p></li><li class="list__item" id="iq82rd_78"><p><span class="control" id="iq82rd_79">客户端游戏版本过于老旧</span> 。一些光影（如 <code class="code" id="iq82rd_80">PTGI</code>） 不兼容 <code class="code" id="iq82rd_81">1.7.10</code> 及以下的老版本，因为这些版本的 <code class="code" id="iq82rd_82">OptiFine</code> 或 <code class="code" id="iq82rd_83">Shadersmod</code> 年久失修，早已不兼容新的光影代码，属于正常现象；</p></li><li class="list__item" id="iq82rd_84"><p><span class="control" id="iq82rd_85">你所用的设备不兼容最新的OpenGL版本</span>。 如苹果公司的 MacBook 最高只支持 <code class="code" id="iq82rd_86">OpenGL 4.1</code> ，而最新的版本为4.6。一旦光影文件内指定版本高于 <code class="code" id="iq82rd_87">OpenGL 4.1</code> （即 <code class="code" id="iq82rd_88">GLSL 410</code> ），便极有可能发生兼容性问题。</p></li></ul></section><section class="chapter"><h2 id="java-rtx" data-toc="java-rtx">Java 版光影能否用 RTX 的光追核心来提供更好的实时光线追踪效果？</h2><p id="iq82rd_89"><span class="control" id="iq82rd_90">可能可以，但不是现在：</span></p><ul class="list _bullet" id="iq82rd_91"><li class="list__item" id="iq82rd_92"><p>目前 <code class="code" id="iq82rd_93">Java 版 Minecraft 光影</code> 使用的 <span class="control" id="iq82rd_94">图形渲染引擎</span> 为 <code class="code" id="iq82rd_95">OpenGL</code>，</p></li><li class="list__item" id="iq82rd_96"><p>它没有相关的 API 接口，并不能通过 <code class="code" id="iq82rd_97">调用光追核心</code> 来 <span class="control" id="iq82rd_98">提高光追效率</span>。</p></li><li class="list__item" id="iq82rd_99"><p>但是，Java 版 的以下两个模组，分别是： </p><ul class="list _bullet" id="iq82rd_100"><li class="list__item" id="iq82rd_101"><p><code class="code" id="iq82rd_102">VulkanMod</code>；</p></li><li class="list__item" id="iq82rd_103"><p><code class="code" id="iq82rd_104">Sodium</code> 模组新开的 <code class="code" id="iq82rd_105">Vulkan</code> 分支。</p></li></ul></li><li class="list__item" id="iq82rd_106"><p>这两个模组，能够将 MC 的 <span class="control" id="iq82rd_107">图形渲染引擎</span> 替换为 <code class="code" id="iq82rd_108">Vulkan</code> ，理论上可实现调用硬件来加速光线追踪渲染。</p></li><li class="list__item" id="iq82rd_109"><p>但以项目的开发速度来看，想要在短时间内实现对光影的支持，希望非常渺茫。</p></li></ul></section><section class="chapter"><h2 id="a-b" data-toc="a-b">我喜欢 A 光影的水和 B 光影的云。我可以把这两个包结合起来吗？</h2><p id="iq82rd_110"><span class="control" id="iq82rd_111">通常情况下，不能：</span></p><ul class="list _bullet" id="iq82rd_112"><li class="list__item" id="iq82rd_113"><p>在 <code class="code" id="iq82rd_114">Minecraft Java 版光影包</code> 中没有 <span class="control" id="iq82rd_115">标准</span> 的做事方式，</p></li><li class="list__item" id="iq82rd_116"><p>所以 <span class="control" id="iq82rd_117">不同</span> 的光影包 <span class="control" id="iq82rd_118">可以（而且经常会）</span> 以不同的方式实现相同的效果，或者使用相同的缓冲区来保存不同的信息。</p></li><li class="list__item" id="iq82rd_119"><p>因此，通过 <span class="control" id="iq82rd_120">简单的添加删除文件</span> 去结合效果是 <span class="control" id="iq82rd_121">几乎不可能</span> 的。</p></li><li class="list__item" id="iq82rd_122"><p>但如果你擅长 <code class="code" id="iq82rd_123">GLSL</code> ，你当然可以试一试。</p></li><li class="list__item" id="iq82rd_124"><p>你也可以询问你想组合光影包的开发者，他们的效果是 <span class="control" id="iq82rd_125">如何/在哪里</span> 实现的，以及在这些地方有 <span class="control" id="iq82rd_126">哪些信息</span> ，这些问题对于结合光影效果是 <span class="control" id="iq82rd_127">有必要的</span>。</p></li><li class="list__item" id="iq82rd_128"><p>但是，不要指望让开发者 <span class="control" id="iq82rd_129">无条件</span> 帮你改光影，或者 <span class="control" id="iq82rd_130">教你</span> <code class="code" id="iq82rd_131">GLSL</code>， <span class="control" id="iq82rd_132">这不是他们的义务！</span></p></li><li class="list__item" id="iq82rd_133"><p>如果你对学习 <code class="code" id="iq82rd_134">GLSL</code> 不感兴趣，你也可以提出 <span class="control" id="iq82rd_135">付费</span> 让他人为你制作 <code class="code" id="iq82rd_136">组合光影包</code>。</p></li></ul></section><section class="chapter"><h2 id="optifine-iris-sodium" data-toc="optifine-iris-sodium"><code class="code" id="iq82rd_138">OptiFine</code> 能与 <code class="code" id="iq82rd_139">Iris</code>、 <code class="code" id="iq82rd_140">Sodium</code> 一起运行吗？</h2><p id="iq82rd_141"><span class="control" id="iq82rd_142">不能</span> 。OptiFine 与 Iris 在功能上是重复的，两者互不兼容。而钠属于优化模组，只能兼容开源的 Iris，无法兼容 OptiFine。</p></section><section class="chapter"><h2 id="java-dlss-fsr" data-toc="java-dlss-fsr"><code class="code" id="iq82rd_144">Java 版</code> 光影能否搭配 <code class="code" id="iq82rd_145">DLSS / FSR</code>？</h2><p id="iq82rd_146"><span class="control" id="iq82rd_147">理论上：</span></p><ul class="list _bullet" id="iq82rd_148"><li class="list__item" id="iq82rd_149"><p>FSR 可以，</p></li><li class="list__item" id="iq82rd_150"><p>DLSS 技术未开放，无法搭配。</p></li><li class="list__item" id="iq82rd_151"><p>需要注意的是， <code class="code" id="iq82rd_152">PTGI HRR 版本</code> 也使用了与此类似的技术， <code class="code" id="iq82rd_153">HRR</code> 的功能也是 <span class="control" id="iq82rd_154">降低分辨率提升帧数</span>，</p></li><li class="list__item" id="iq82rd_155"><p>这也是很多人为什么说 <code class="code" id="iq82rd_156">HRR系列</code> 看起来比 <code class="code" id="iq82rd_157">E12</code> <span class="control" id="iq82rd_158">糊</span> 的原因。</p></li></ul></section><section class="chapter"><h2 id="iq82rd_159" data-toc="iq82rd_159"><code class="code" id="iq82rd_161">光线追踪光影</code> 与 <code class="code" id="iq82rd_162">传统光影</code> 的最本质区别是什么？</h2><p id="iq82rd_163"><span class="control" id="iq82rd_164">是否使用了光追算法:</span></p><ul class="list _bullet" id="iq82rd_165"><li class="list__item" id="iq82rd_166"><p id="iq82rd_167">也就是说，无论你使用的 <code class="code" id="iq82rd_168">GPU</code> 是谁家的，只要光影文件里存在光追算法，</p></li><li class="list__item" id="iq82rd_169"><p id="iq82rd_170">那就属于 <code class="code" id="iq82rd_171">光线追踪光影</code> ，而 <span class="control" id="iq82rd_172">不取决于是否采</span> 用 <code class="code" id="iq82rd_173">RTX</code> 或 <code class="code" id="iq82rd_174">RX6000</code> 系列显卡。</p></li></ul></section><section class="chapter"><h2 id="java" data-toc="java"><code class="code" id="iq82rd_176">Java版</code> 的着色器叫 <code class="code" id="iq82rd_177">光影</code>， <code class="code" id="iq82rd_178">基岩版</code> 的着色器就只能叫 <code class="code" id="iq82rd_179">着色器</code> 或 <code class="code" id="iq82rd_180">伪光影</code>？</h2><ul class="list _bullet" id="iq82rd_181"><li class="list__item" id="iq82rd_182"><p id="iq82rd_183">从图形学上讲， <code class="code" id="iq82rd_184">光影</code> 的<span class="control" id="iq82rd_185">专业名称</span>就是 <code class="code" id="iq82rd_186">着色器</code>：</p></li><li class="list__item" id="iq82rd_187"><p id="iq82rd_188">光影只是 <span class="control" id="iq82rd_189">国内的另一种好听的说法</span> ，就像你可以把 <code class="code" id="iq82rd_190">引力波</code> 称作 <code class="code" id="iq82rd_191">时空涟漪</code>。</p></li><li class="list__item" id="iq82rd_192"><p id="iq82rd_193">基岩版由于 <code class="code" id="iq82rd_194">接口</code> <span class="control" id="iq82rd_195">先天的缺乏</span> 以及 <span class="control" id="iq82rd_196">移动设备性能不足</span> ，无法像 Java 版一样做出 <code class="code" id="iq82rd_197">效果相对完整</code> 的着色器，但它仍然叫做光影。</p></li><li class="list__item" id="iq82rd_198"><p id="iq82rd_199">有一种说法是， <code class="code" id="iq82rd_200">基岩版 PE 端</code> 光影没有实时阴影，不配叫光影。</p></li><li class="list__item" id="iq82rd_201"><p id="iq82rd_202">然而 <code class="code" id="iq82rd_203">光影</code> 二字， <span class="control" id="iq82rd_204">从来都不是</span> 指代实时阴影，也 <span class="control" id="iq82rd_205">不会有任何</span> 一位光影作者会提出 <code class="code" id="iq82rd_206">没有实时阴影就不是光影</code> 这种观点！</p></li></ul></section><div class="last-modified">Last modified: 15 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="je-resourcepack.html" class="navigation-links__prev">Java 版资源包（纹理包）问答</a><a href="troubleshoot.html" class="navigation-links__next">疑难解答</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>